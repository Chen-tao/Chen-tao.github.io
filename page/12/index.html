<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Engineer Blogger Creator Runner | ML DM JVM Web | 旅行 电影 歌手 摄影 | 读书的要义是尽量求得客观的认识，不是为了炫耀自己的‘创造力’，或‘发前人所未发’。 优秀程序员的价值，不在于其所掌握的几招屠龙之术，而是在细节中见真著。 如果我们可以一次把事情做对做好，在允许的范围内尽可能追求卓越，为什么不去做呢。 | @HNU">
<meta property="og:type" content="website">
<meta property="og:title" content="Chen-Tao">
<meta property="og:url" content="http://chen-tao.github.io/page/12/index.html">
<meta property="og:site_name" content="Chen-Tao">
<meta property="og:description" content="Engineer Blogger Creator Runner | ML DM JVM Web | 旅行 电影 歌手 摄影 | 读书的要义是尽量求得客观的认识，不是为了炫耀自己的‘创造力’，或‘发前人所未发’。 优秀程序员的价值，不在于其所掌握的几招屠龙之术，而是在细节中见真著。 如果我们可以一次把事情做对做好，在允许的范围内尽可能追求卓越，为什么不去做呢。 | @HNU">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chen-Tao">
<meta name="twitter:description" content="Engineer Blogger Creator Runner | ML DM JVM Web | 旅行 电影 歌手 摄影 | 读书的要义是尽量求得客观的认识，不是为了炫耀自己的‘创造力’，或‘发前人所未发’。 优秀程序员的价值，不在于其所掌握的几招屠龙之术，而是在细节中见真著。 如果我们可以一次把事情做对做好，在允许的范围内尽可能追求卓越，为什么不去做呢。 | @HNU">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://chen-tao.github.io/page/12/"/>





  <title> Chen-Tao </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chen-Tao</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">颂其诗，读其书，不知其人，可乎？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/10/31/proc-on-mac-os-x/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/31/proc-on-mac-os-x/" itemprop="url">
                  /proc on Mac OS X
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-10-31T00:00:00+08:00">
                2014-10-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mac/" itemprop="url" rel="index">
                    <span itemprop="name">Mac</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在Uinx与Uinx-like类型的系统中，Process文件系统(/proc)是常用的系统信息目录。它提供了系统中大多数可控制或者非可控制的系统参数和性能指数的抽象，以一种直观的形式表现出来。</p>
<p>在Linux的发扬下，/proc则变得更加强大，可以查询出包括进程端口信息和挂载目录等等一系列的系统运行参数，是非常有用的工具目录。而在Mac上，这个目录缺失了。</p>
<p>Mac作为实质上BSD家族的分支成员，却没有支持这个信息，确实比较费解。如果希望查询到相关的信息，当然是可以做到的，只不过，在Linux下却可以变得更加简单和详尽，同时更易读一些。</p>
<p>比如：<br>查询内存信息，Linux下可以这样做：</p>
<p><code>free</code></p>
<p>或者</p>
<p><code>cat /proc/meminfo</code></p>
<p>当然还有其他的方式</p>
<p>而在Mac中，你需要这样：</p>
<p><code>memory_pressure</code></p>
<p>当然Mac中有一个信息相对全面的命令:<code>sysctl</code></p>
<p>再比如：</p>
<p>获取CPU信息，Linux下可以这样做：</p>
<p><code>/proc/cpuinfo</code></p>
<p>在Mac中，你需要这样：</p>
<ol>
<li>查看”About This Mac”</li>
<li><code>sysctl -a hw</code></li>
</ol>
<p>当然输出就不如Linux下那么的友好了</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/10/30/Blackalicious-Alphabet-Aerobics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/30/Blackalicious-Alphabet-Aerobics/" itemprop="url">
                  【Blackalicious-Alphabet Aerobics】
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-10-30T00:00:00+08:00">
                2014-10-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Now it’s time for our wrap up</p>
<p>Let’s give it everything we’ve got</p>
<p>Ready? Begin</p>
<p>Artificial amateurs, aren’t at all amazing</p>
<p>Analytically, I assault, animate things</p>
<p>Broken barriers bounded by the bomb beat</p>
<p>Buildings are broken, basically I’m bombarding</p>
<p>Casually create catastrophes, casualties</p>
<p>Cancelling cats got their canopies collapsing</p>
<p>Detonate a dime of dank daily doin’ dough</p>
<p>Demonstrations, Don Dada on the down low</p>
<p>Eatin’ other editors with each and every energetic</p>
<p>Epileptic episode, elevated etiquette</p>
<p>Furious fat fabulous fantastic</p>
<p>Flurries of funk felt feeding the fanatics</p>
<p>Gift got great global goods gone glorious</p>
<p>Gettin’ godly in his game with the goriest</p>
<p>Hit ‘em high, hella height, historical</p>
<p>Hey holocaust hints hear ‘em holler at your homeboy</p>
<p>Imitators idolize, I intimidate</p>
<p>In a instant, I’ll rise in a irate state</p>
<p>Juiced on my jams like jheri curls jockin’ joints</p>
<p>Justly, it’s just me, writin’ my journals</p>
<p>Kindly I’m kindling all kinds of ink on</p>
<p>Karate kick type Brits in my kingdom</p>
<p>Let me live a long life, lyrically lessons is</p>
<p>Learned lame louses just lose to my livery</p>
<p>My mind makes marvelous moves, masses</p>
<p>Marvel and move, many mock what I’ve mastered</p>
<p>Niggas nap knowin’ I’m nice naturally</p>
<p>Knack, never lack, make noise nationally</p>
<p>Operation, opposition, off, not optional</p>
<p>Out of sight, out of mind, wide beaming opticals</p>
<p>Perfected poem, powerful punchlines</p>
<p>Pummelling petty powder puffs in my prime</p>
<p>Quite quaint quotes keep quiet it’s Quannum</p>
<p>Quarrelers ain’t got a quarter of what we got uh</p>
<p>Really raw raps, risin’ up rapidly</p>
<p>Riding the rushing radioactivity</p>
<p>Super scientifical sound search sought</p>
<p>Silencing super fire saps that are soft</p>
<p>Tales ten times talented, too tough</p>
<p>Take that, challengers, get a tune up</p>
<p>Universal, unique untouched</p>
<p>Unadulterated, the raw uncut</p>
<p>Verb vice lord victorious valid</p>
<p>Violate vibes that are vain make ‘em vanished</p>
<p>While I’m all well would a wise wordsmith just</p>
<p>Weaving up words weeded up, I’m a work-shift</p>
<p>Xerox, my X-ray-diation holes extra large</p>
<p>X-height letters, and xylophone tones</p>
<p>Yellow back, yak mouth, young ones yaws</p>
<p>Yesterday’s lawn yards sell our yawnS</p>
<p>Zig zag zombies, zoomin’ to the zenith</p>
<p>Zero in zen thoughts, overzealous rhyme ZEALOTS!</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/10/27/hello/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/10/27/hello/" itemprop="url">
                  Hello
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-10-27T00:00:00+08:00">
                2014-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/15/linux-mem-al/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/15/linux-mem-al/" itemprop="url">
                  Linux内存调度-几种页面置换算法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-15T00:00:00+08:00">
                2014-09-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>互联网应用的一个特点就是大量的使用缓存技术。目前已知的缓存技术非常多，比如memcache、guava cache等等，当然这些都是比较上层的技术，而Linux系统底层的缓存，仍然是依赖于一些经典的页面置换算法来实现，这里着重介绍几个重点的算法。</p>
<ul>
<li>LRU(Least Recently Used)</li>
</ul>
<p>顾名思义，最近最少使用算法，这个算法的理念是：如果数据最近被访问过，那么它将来被访问的几率也很高。</p>
<p>算法的实现有很多种，基本都是通过数据的历史访问记录来作文章。但这个算法有一个比较明显的问题，就是在某些波动的情况或者周期性的批量数据访问下，缓存的命中率会大幅下降，也就是判断某一时刻的热数据而将广域的热数据剔除掉了。 </p>
<p>目前这个算法有很多变种，比如LRU-K(k就是最近使用过的次数)，它将LRU的最近使用一次扩展成了最近使用K次(本质上是LRU与LFU的结合)，进过验证k＝2的时候，效率可以达到一个比较均衡的高水平。</p>
<ul>
<li>LFU(Least Frequently Used)</li>
</ul>
<p>最近最少频率，每个数据块维护一个访问计数，一定时间内，按照这个计数的大小，选择计数值最小的页面进行淘汰 </p>
<ul>
<li>FIFO(First-In First-Out)</li>
</ul>
<p>最简单的先进先出淘汰方式，选择最先进入缓存的页面进行淘汰 </p>
<ul>
<li>MQ(Mutil Queue)</li>
</ul>
<p>MQ实际上是LRU的一种扩展，希望做到的是尽量的贴近实际用户最可能访问的逻辑，将访问的热点数据缓存起来。 </p>
<p>MQ算法根据访问频率将数据划分为多个队列，不同的队列具有不同的访问优先级，其核心思想是：优先缓存访问次数多的数据。</p>
<p>MQ算法将缓存划分为多个LRU队列，每个队列对应不同的访问优先级。访问优先级是根据访问次数计算出来的</p>
<p>详细的算法结构图如下，Q0，Q1….Qk代表不同的优先级队列，Q-history代表从缓存中淘汰数据，但记录了数据的索引和引用次数的队列：</p>
<p><img src="http://chentaohome.qiniudn.com/queue2.png" alt=""></p>
<p>通过对几个队列的维护，保证： </p>
<ol>
<li><p>新的被多次访问的数据优先级可以提升</p>
</li>
<li><p>旧的访问次数减少的数据优先级被降低</p>
</li>
</ol>
<p>具体的做法就是在多个不同优先级序列的队列之间切换。当然这个算法相对于LRU来说复杂了许多，并且在大量数据涌入的时候可能会造成一些由于系统本身置换而产生的效率影响。 </p>
<p>除了MQ，还有2Q(Two Queue)等等，都是对LRU经典算法的改进，不过由于本身算法复杂度和空间占比的影响，使用率都不高。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/14/java-tcpudp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/14/java-tcpudp/" itemprop="url">
                  Java TCP and UDP
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-14T00:00:00+08:00">
                2014-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">UDP</th>
<th style="text-align:right">TCP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">处理方式</td>
<td style="text-align:right">单个数据报</td>
<td style="text-align:right">将网络视为流</td>
</tr>
<tr>
<td style="text-align:right">连接</td>
<td style="text-align:right">从多个独立主机收发数据</td>
<td style="text-align:right">两台主机之间唯一连接</td>
</tr>
<tr>
<td style="text-align:right">实现</td>
<td style="text-align:right">DatagramPacket将数据以字节方式填充到数据报中</td>
<td style="text-align:right">Socket</td>
</tr>
<tr>
<td style="text-align:right"></td>
<td style="text-align:right">DatagramSocket负责收发数据报</td>
<td style="text-align:right">ServerSocket</td>
</tr>
<tr>
<td style="text-align:right">首发规则</td>
<td style="text-align:right">无序且不保证到达</td>
<td style="text-align:right">有序且有可靠保证</td>
</tr>
</tbody>
</table>
<p><img src="http://chentaohome.qiniudn.com/tcp.png" alt=""></p>
<p><img src="http://chentaohome.qiniudn.com/udp.jpg" alt=""></p>
<p>UDP数据报--&gt;基于IP数据报</p>
<p>通常，UDP的数据报大小可以支持到65507字节(理论上)，但一般的，在许多平台下，这个限制是8192字节(8k)</p>
<p>当然，你可以自行选择数据报的大小，这里最合适的大小并不是一定的，当网络不太好的时候，就要选择更小的包，而当网络速率快而通畅的时候，更大的包是更好的选择。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/14/mac-youtube-dl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/14/mac-youtube-dl/" itemprop="url">
                  Mac下使用 youtube-dl下载视频
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-14T00:00:00+08:00">
                2014-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>brew果然是Mac下一大神器！今天更新又发现一个好东西，youtube-dl.</p>
<p>youtube-dl 是一个基于 python 的脚本</p>
<p>Mac下使用brew超级简单</p>
<p><code>brew install youtube-dl</code> </p>
<p>就可以了！没有安装brew的同学，请移步<a href="http://brew.sh/" target="_blank" rel="external">http://brew.sh/</a></p>
<p>Linux 下也用几行行命令就可以轻松下载 YouTube Vimeo Youku 等网站视频了</p>
<p>1. 安装 python 并下载 youtube-dl</p>
<p><code>apt-get update</code></p>
<p><code>apt-get install python</code>  </p>
<p><code>wget &lt;http://youtube-dl.org/latest/youtube-dl&gt;</code>  </p>
<p><code>chmod 744 youtube-dl</code> </p>
<p>2. 视频下载示例</p>
<p><code>youtube-dl \--max-quality url &lt;http://www.youtube.com/watch?v=XXXXXX&gt;</code></p>
<p><code>youtube-dl --max-quality url &lt;http://vimeo.com/XXXXXX&gt;</code></p>
<p><code>youtube-dl --max-quality url &lt;http://v.youku.com/v_showd_XXXXXX.html&gt;</code></p>
<p>3. 其他信息：</p>
<p>支持网站全列表请使用如下命令查看 </p>
<p><code>youtube-dl \--list-extractors</code> </p>
<p>程序升级直接执行以下命令即可 </p>
<p><code>youtube-dl -U</code></p>
<p>更多参数选择请参考 </p>
<p><code>youtube-dl -h</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/13/mac-time/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/13/mac-time/" itemprop="url">
                  命令行查询Mac启动时间
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-13T00:00:00+08:00">
                2014-09-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://chentaohome.qiniudn.com/mac_time.png" alt=""></p>
<p>使用命令行查询Mac/Linux/Uinx的启动时间，有以上3种方法，但进过我的测试，发现在Mac下，第一种并不好用。</p>
<ol>
<li><p>使用last reboot命令，在Mac下显示的是wtmp的时间，也就是上次登录的时间，对于Mac相当于上一次你打开盖子的时间，这是跟Linux的一点小差别。</p>
</li>
<li><p>使用who命令是目前最为准确的一种</p>
</li>
<li><p>uptime则是一个历史久远的Uinx命令，它会显示出系统已经运行了多长时间的具体信息，它依次显示下列信息：当前时间、系统已经运行了多长时间、目前有多少登陆用户、系统在过去的1分钟、5分钟和15分钟内的平均负载。</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/12/jvm-params/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/12/jvm-params/" itemprop="url">
                  JVM调优–参数总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-12T00:00:00+08:00">
                2014-09-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>开发中，内存泄露、线程锁、GC调优这些东西处理起来都很痛苦。这三个邪恶的小伙伴带来的性能问题是最难复现的，这也使得修复这些问题有如噩梦一般。JVM调优是一项这里根据LinkedIn的工程师的推荐，解读一下进行GC调优改善吞吐量和延迟用的这组参数：</p>
<p><img src="http://chentaohome.qiniudn.com/jvmp1.jpg" alt=""></p>
<p><img src="http://chentaohome.qiniudn.com/jvmp2.jpg" alt=""></p>
<p><img src="http://chentaohome.qiniudn.com/jvmp3.jpg" alt=""></p>
<p><img src="http://chentaohome.qiniudn.com/jvmp4.jpg" alt=""></p>
<p><img src="http://chentaohome.qiniudn.com/jvmp5.jpg" alt=""></p>
<p>强制要求JVM始终抛出含堆栈的错误(<code>-XX:OmitStackTraceInFastThrow</code>)</p>
<p>问题描述：生产环境抛异常,但却没有将堆栈信息输出到日志,可以确定的是日志输出时用的是log.error(“xx发生错误”, e)<br>问题分析：它跟JDK5的一个新特性有关,对于一些频繁抛出的异常,JDK为了性能会做一个优化,即JIT重新编译后会抛出没有堆栈的异常<br>          而在使用-server模式时,该优化选项是开启的,因此在频繁抛出某个异常一段时间后,该优化开始起作用,即只抛出没有堆栈的异常信息<br>问题解决：由于该优化是在JIT重新编译后才起作用,因此起初抛出的异常还是有堆栈的,所以可以查看较旧的日志,寻找完整的堆栈信息<br>          另一个解决办法是暂时禁用该优化,即强制要求每次都要抛出有堆栈的异常,幸好JDK提供了通过配置JVM参数的方式来关闭该优化<br>          即<code>-XX:-OmitStackTraceInFastThrow</code>,便可禁用该优化了(注意选项中的减号,加号则表示启用)  </p>
<p>官方说明：</p>
<blockquote>
<p>The compiler in the server VM now provides correct stack backtraces for all “cold” built-in exceptions.<br>         For performance purposes, when such an exception is thrown a few times, the method may be recompiled.<br>         After recompilation, the compiler may choose a faster tactic using preallocated exceptions that do not provide a stack trace.<br>         To disable completely the use of preallocated exceptions, use this new flag: -XX:-OmitStackTraceInFastThrow.</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/12/java-7-linkedtransferqueue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/12/java-7-linkedtransferqueue/" itemprop="url">
                  Java 7 LinkedTransferQueue解析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-12T00:00:00+08:00">
                2014-09-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java-7-LinkedTransferQueue解析"><a href="#Java-7-LinkedTransferQueue解析" class="headerlink" title="Java 7 LinkedTransferQueue解析"></a>Java 7 LinkedTransferQueue解析</h1><p>LinkedTransferQueue出身Google，现在已经被集成在JDK7中，但目前主流的JDK平台仍然是JDK6，所以很多时候我们需要这样引入：</p>
<p><code>import com.google.code.yanf4j.util;</code></p>
<p>她的作者依然是Doug Lea大神，他说：</p>
<blockquote>
<p>LinkedTransferQueue是一个聪明的队列，他是ConcurrentLinkedQueue,<br>SynchronousQueue (in “fair” mode公平模式), and unbounded LinkedBlockingQueue的超集。</p>
</blockquote>
<p>我们从她的声明中也可以看出这一点： </p>
<p><code>public class LinkedTransferQueue&lt;E&gt; extends AbstractQueue&lt;E&gt; implements BlockingQueue&lt;E&gt;</code></p>
<p>Google的注释中，有这样一段描述：</p>
<blockquote>
<p>This class extends the approach used in FIFO-mode SynchronousQueues. See the internal documentation, as well as the PPoPP 2006 paper “Scalable Synchronous Queues” by Scherer,<br>                                  <em>Lea &amp; Scott</em> </p>
</blockquote>
<p>(<a href="http://www.cs.rice.edu/~wns1/papers/2006-PPoPP-SQ.pdf" target="_blank" rel="external">http://www.cs.rice.edu/~wns1/papers/2006-PPoPP-SQ.pdf</a>) </p>
<blockquote>
<p>The main extension is to provide different Wait modes for the main “xfer” method that puts or takes items.  These don’t impact the basic dual-queue logic, but instead control whether or how threads block upon insertion of request or data nodes into the dual queue. It also uses slightly different conventions for tracking whether nodes are off-list or cancelled. </p>
</blockquote>
<p>LinkedTransferQueue实现了一个重要的接口TransferQueue,该接口含有下面几个重要方法：</p>
<p>1. transfer(E e) </p>
<p>   若当前存在一个正在等待获取的消费者线程，即立刻移交之；否则，会插入当前元素e到队列尾部，并且等待进入阻塞状态，到有消费者线程取走该元素。</p>
<p>2. tryTransfer(E e) </p>
<p>   若当前存在一个正在等待获取的消费者线程（使用take()或者poll()函数），使用该方法会即刻转移/传输对象元素e；若不存在，则返回false，并且不进入队列。这是一个不阻塞的操作。</p>
<p>3. tryTransfer(E e, long timeout, TimeUnit unit) </p>
<p>   若当前存在一个正在等待获取的消费者线程，会立即传输给它; 否则将插入元素e到队列尾部，并且等待被消费者线程获取消费掉,若在指定的时间内元素e无法被消费者线程获取，则返回false，同时该元素被移除。</p>
<p>4. hasWaitingConsumer() </p>
<p>   判断是否存在消费者线程</p>
<p>5. getWaitingConsumerCount() </p>
<p>   获取所有等待获取元素的消费线程数量</p>
<p>6. size()</p>
<p>因为队列的异步特性，检测当前队列的元素个数需要逐一迭代，可能会得到一个不太准确的结果，尤其是在遍历时有可能队列发生更改。 </p>
<p>7. 批量操作</p>
<p>类似于 addAll，removeAll, retainAll, containsAll, equals, toArray 等方法，API不能保证一定会立刻执行。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://chen-tao.github.io/2014/09/10/wechat-pay/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Tao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Tao">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/09/10/wechat-pay/" itemprop="url">
                  微信支付与理财通--前路漫漫
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-10T00:00:00+08:00">
                2014-09-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>微信支付作为腾讯狙击支付宝、打造支付O2O的前沿阵地，存在了很长时间了。但我觉得这个事情依然是路漫漫其修远。</p>
<p>今天我想把微信钱包存在理财通的钱取出来的时候，遇到了一点问题，这个问题让我更加认定了一件事——支付宝是神器。 </p>
<p>理财通并没有明显的存取入口，我不知道这是什么设计思路，哦，我的重点不在这里；我费劲终于找到可以取出的地方，再输入了自己的支付密码，再输入了要取款的金额后，发现手机号码是我过去的一个手机号，换号这个问题在银行卡绑定方面很常见，但这里微信蛋疼的解决思路是：号码更换本质上是用户的自我行为，需要自己负责，那么，你只能解除绑定后，再重新绑定这张卡，这样我们才会识别。 </p>
<p>支付宝是怎么做的呢？我不必解释了吧，直接可以在流水线一般的交互页面更换号码的不是吗？重新绑定这种流程，想想都蛋疼。 </p>
<p>这不是结束，我无可奈何的重新绑定了卡片，发觉，我没办法更换取款的卡片！也就是说，一旦我使用了理财通，再想取出里面的钱，我只能将这些钱放入这张卡片，即便这张卡片我已经不再使用！甚至这张卡片我已经在微信钱包里解除了绑定！ </p>
<p>哦，这不是我YY的，也不是微信没有开放这个入口，也不是我没找到类似的功能，这，是事实。我在咨询了微信支付方面和理财通方面的客服后，他们给出的答案是：没有办法帮助我……如果我希望换一张卡，那简单呀，你只需要带好你的有效身份证件，到你卡片的发卡行去，先把不用的那张卡注销掉，再进入微信支付，绑定需要取款的新卡片，再消费一下下就好了，多简单 ！</p>
<p>对面如果不是我的同事，我就真想骂人了！ </p>
<p>『轻』不代表不完善，微信需要完善的地方还有很多，我觉得是时候放低姿态接收洗礼了，否则，如Apple也并不会辉煌多久不是么。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars0.githubusercontent.com/u/1845119?v=3&u=4af70cb5a5853732074c58284505ee6864e51b8c&s=400"
               alt="Chen Tao" />
          <p class="site-author-name" itemprop="name">Chen Tao</p>
           
              <p class="site-description motion-element" itemprop="description">Engineer Blogger Creator Runner | ML DM JVM Web | 旅行 电影 歌手 摄影 | 读书的要义是尽量求得客观的认识，不是为了炫耀自己的‘创造力’，或‘发前人所未发’。 优秀程序员的价值，不在于其所掌握的几招屠龙之术，而是在细节中见真著。 如果我们可以一次把事情做对做好，在允许的范围内尽可能追求卓越，为什么不去做呢。 | @HNU</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">178</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">92</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Chen-tao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/Chentao11" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/546410275" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/chen-tao-68-95" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen Tao</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
